<div class = "centered" *ngIf="loading">
    <div class = "blob-1"></div>
    <div class = "blob-2"></div>
  </div>
  
  <div class="text-center" style="margin-bottom: 10px;" *ngIf="voucherData">
    <a [routerLink]="['/report/train']">
        <button class="text-white btn btn-sm btn-primary m-1">Back</button>
    </a>
    &nbsp;&nbsp;
    <a (click)="downloadA4('pdf', 'potrait')"><button
        class="text-white btn btn-sm btn-primary m-1">Download</button>
    </a>
</div>
<div style="width:100%; padding: 30px 10px; position:relative;" id="tickect_hotel"
    *ngIf="voucherData" class="htl_vouchr_wrppr">
    <table id="print_voucher" #print_voucher class="hotel_voucher" cellpadding="0" border-collapse="" cellspacing="0" width="100%"
        style="font-size:12px; width:950px; border-radius: 15px; margin:0px auto;background-color:#eee; padding:35px;border-collapse:separate; color: #000; border:1px solid #ddd;">
        <tbody>
            <tr>
                <td style="border-collapse: collapse; padding:0px;">
                    <table width="100%" style="border-collapse: collapse;" cellpadding="0" cellspacing="0" border="0">
                        <tbody>
                            <tr>
                                <td style="padding: 0px;">
                                    <table cellpadding="0" cellspacing="0" border="0" width="100%"
                                        style="border-collapse: collapse;">
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <table width="100%" style="border-collapse: collapse;"
                                                        cellpadding="0" cellspacing="0" border="0">
                                                        <tbody>
                                                            <tr>
                                                                <td style="padding: 0px;">
                                                                    <img class="custocapi_logo" style="width:170px;"
                                                                        src="assets/images/login-images/l-logo.png">
                                                                </td>
                                                                <td style="padding: 0px;">
                                                                    <table class="booking_id" width="100%"
                                                                        style="font-size:13px; border-collapse: collapse;text-align: right; line-height:15px;"
                                                                        cellpadding="0" cellspacing="0" border="0">
                                                                        <tbody>
                                                                            <tr>
                                                                                <td style="padding-bottom:10px;line-height:26px; font-size: 15px;"
                                                                                    align="right" class="bookng_dtls">
                                                                                    <ng-container *ngIf="voucherData?.TrainDetails?.XlproInvoiceNo">
                                                                                        <span>
                                                                                            <strong>Invoice No
                                                                                                :</strong>
                                                                                            {{voucherData?.TrainDetails?.XlproInvoiceNo || 'N/A'}}
                                                                                        </span>
                                                                                        <br>
                                                                                    </ng-container>
                                                                                    <span>
                                                                                        <strong>Application
                                                                                            Reference:</strong>
                                                                                        {{voucherData?.TrainDetails?.AppReference}}
                                                                                    </span>
                                                                                    <br>
                                                                                    <span>
                                                                                        <strong>Booking Status:
                                                                                        </strong>
                                                                                        {{voucherData?.TrainDetails?.BookingStatus
                                                                                        | map: getFormtedStatus}}
                                                                                    </span>
                                                                                    <br>
                                                                                    <span>
                                                                                        <strong>Approvar Status:
                                                                                        </strong>
                                                                                        {{voucherData?.TrainDetails?.BookingStatus
                                                                                        | map: getFormtedStatus}}
                                                                                    </span>
                                                                                    
                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="line-height:12px;">&nbsp;</td>
                                            </tr>
                                            <tr>
                                                <td class="thank_custocapi"
                                                    style="background: #fafafa; text-align: left; padding: 15px; color: #000; border-radius: 7px; overflow:hidden;">
                                                    <table style="width:100%;">
                                                        <tbody>
                                                            <tr>
                                                                <td class="stay_hotel" style="font-size:16px;">
                                                                    <b> Company Name :</b>
                                                                    {{voucherData?.TrainDetails?.CompanyName}}
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td style="font-size:16px; text-align: left;"
                                                                    class="thank_custocapi_points">
                                                                    <p style="margin:auto;">
                                                                        <b>Emp Name :
                                                                            {{voucherData?.PaxDetails[0]?.FirstName}}
                                                                            {{voucherData?.PaxDetails[0]?.LastName}}</b>
                                                                    </p>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td style="font-size:16px; text-align: left;"
                                                                    class="thank_custocapi_points">
                                                                    <p style="margin:auto;">
                                                                        <b>Created On :</b>
                                                                        {{voucherData?.TrainDetails?.CreatedAt | date:
                                                                        'MMM d, y'}}
                                                                    </p>
                                                                </td>
                                                            </tr>
                                                            <tr *ngIf="voucherData?.TrainDetails?.TripId">
                                                                <td style="font-size:16px; text-align: left;"
                                                                    class="thank_custocapi_points">
                                                                    <p style="margin:auto;">
                                                                        <b>Trip Id :</b>
                                                                        {{voucherData?.TrainDetails?.TripId || 'N/A'}}
                                                                    </p>
                                                                </td>
                                                            </tr>
                                                            <tr *ngIf="voucherData?.TrainDetails?.TripName">
                                                                <td style="font-size:16px; text-align: left;"
                                                                    class="thank_custocapi_points">
                                                                    <p style="margin:auto;">
                                                                        <b>Trip Name :</b>
                                                                        {{voucherData?.TrainDetails?.TripName || 'N/A'}}
                                                                    </p>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>

                                            <tr>
                                                <td style="line-height:12px;">&nbsp;</td>
                                            </tr>
                                            <tr>
                                                <td colspan="" style="border-radius: 7px;
      overflow: hidden;
      ">
                                                    <table style="width:100%; font-size:14px;">
                                                        <tbody>
                                                            <tr>
                                                                <td colspan="4" style="
                       padding: 9px 15px; 
                       border-bottom: 1px dashed #B1B5C3; background-color: #065081;
                       color: #fff;">
                                                                    <span class="room_sumry"
                                                                        style="font-size:20px; font-weight:600;color:#fff;vertical-align:middle;">Train
                                                                        No:  {{voucherData?.TrainDetails?.TrainNumber}}, Train
                                                                        Name: {{voucherData?.TrainDetails?.TrainName}}</span>
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td width="100%"
                                                                    style="padding:0px; background-color: #fff;">
                                                                    <table width="100%" cellpadding="5"
                                                                        style="padding: 10px;font-size: 15px;"
                                                                        class="gst_dtl_ctn">
                                                                        <tbody>
                                                                            <tr>

                                                                               

                                                                                <td
                                                                                    style="background-color:#fff;padding:9px 15px;color: #353945; font-weight: 600;">
                                                                                    <b>Train From </b>
                                                                                </td>
                                                                                <td
                                                                                    style="background-color:#fff;padding:9px 15px;color: #353945; font-weight: 600;">
                                                                                    <b>Train To</b>
                                                                                </td>

                                                                                <td
                                                                                    style="background-color:#fff;padding:9px 15px;color: #353945; font-weight: 600;">
                                                                                    <b>Ticket Type</b>
                                                                                </td>

                                                                                <td
                                                                                    style="background-color:#fff;padding:9px 15px;color: #353945; font-weight: 600;">
                                                                                    <b>Class</b>
                                                                                </td>
                                                                                <td
                                                                                    style="background-color:#fff;padding:9px 15px;color: #353945; font-weight: 600;">
                                                                                    <b>PNR</b>
                                                                                </td>
                                                                                <td
                                                                                    style="padding: 9px 15px; color: #353945; ">
                                                                                    <b>Departure Date</b>
                                                                                </td>
                                                                                <td
                                                                                    style="padding: 9px 15px; color: #353945; ">
                                                                                    <b>Booking Type</b>
                                                                                </td>
                                                                            </tr>
                                                                            <tr style="font-size:15px;"
                                                                                class="gst_dtl_contnt">
                                                                                

                                                                                <td
                                                                                    style="padding: 9px 15px; border-top: 1px solid #e9ecef; border-bottom: 1px dashed #bebcb8; color: #343a40;">
                                                                                    {{voucherData?.TrainDetails?.From}}
                                                                                </td>
                                                                                <td
                                                                                    style="padding: 9px 15px; border-top: 1px solid #e9ecef; border-bottom: 1px dashed #bebcb8; color: #343a40;">
                                                                                    {{voucherData?.TrainDetails?.To}}
                                                                                </td>
                                                                                <td
                                                                                    style="padding: 9px 15px; border-top: 1px solid #e9ecef;  border-bottom: 1px dashed #bebcb8; color: #343a40;">
                                                                                    {{voucherData?.TrainDetails?.TicketType}}
                                                                                </td>

                                                                                <td
                                                                                    style="padding: 9px 15px; border-top: 1px solid #e9ecef; border-bottom: 1px dashed #bebcb8; color: #343a40;">
                                                                                    {{voucherData?.TrainDetails?.PreferredClass}}
                                                                                </td>
                                                                                <td
                                                                                style="padding: 9px 15px; border-top: 1px solid #e9ecef; border-bottom: 1px dashed #bebcb8; color: #343a40;">
                                                                                {{voucherData?.TrainDetails?.PNR}}
                                                                               </td>
                                                                                <td
                                                                                    style="padding: 9px 15px; border-top: 1px solid #e9ecef; border-bottom: 1px dashed #bebcb8; color: #343a40;">
                                                                                    {{(voucherData?.TrainDetails?.OnwardDate
                                                                                    | date: 'dd MMM yyyy') || 'N/A'}}</td>
                                                                                <td
                                                                                    style="padding: 9px 15px; border-top: 1px solid #e9ecef; border-bottom: 1px dashed #bebcb8; color: #343a40;">
                                                                                    {{voucherData?.TrainDetails?.BookingType}}
                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td style="line-height:12px;">&nbsp;</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="border-radius: 7px;
      overflow: hidden;
      background: #fff;">
                                                    <table style="width:100%;">
                                                        <tbody>
                                                            <tr>
                                                                <td style="background-color: #065081;
      padding: 9px 15px;
      border-bottom: 1px dashed #B1B5C3;
      color: #fff;">
                                                                    <span class="gst_dtl"
                                                                        style="font-size:20px; font-weight:600;color:#fff;vertical-align:middle;">Guest(s)
                                                                        Details</span>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td width="100%" style="padding:0px;">
                                                                    <table width="100%" cellpadding="5"
                                                                        style="padding: 10px;font-size: 15px;"
                                                                        class="gst_dtl_ctn">
                                                                        <tbody>
                                                                            <tr>
                                                                                <td
                                                                                    style="background-color:#fff;padding:9px 15px;color: #353945; font-weight: 600;">
                                                                                    <b>Sl No.</b>
                                                                                </td>
                                                                                <td
                                                                                    style="background-color:#fff;padding:9px 15px;color: #353945; font-weight: 600;">
                                                                                    <b>Employee Name</b>
                                                                                </td>
                                                                                <td
                                                                                    style="background-color:#fff;padding:9px 15px;color: #353945; font-weight: 600;">
                                                                                    <b>Gender</b>
                                                                                </td>
                                                                                <td
                                                                                    style="background-color:#fff;padding:9px 15px;color: #353945; font-weight: 600;">
                                                                                    <b>Age</b>
                                                                                </td>

                                                                            </tr>
                                                                            <tr style="font-size:15px;"
                                                                                *ngFor="let paxDetails of voucherData.PaxDetails;let index=index"
                                                                                class="gst_dtl_contnt">
                                                                                <td
                                                                                    style="padding: 9px 15px; border-top: 1px solid #e9ecef; border-bottom: 1px dashed #bebcb8; color: #343a40;">
                                                                                    {{index+1}}</td>
                                                                                <td
                                                                                    style="padding: 9px 15px; border-top: 1px solid #e9ecef; border-bottom: 1px dashed #bebcb8; color: #343a40;">
                                                                                    {{paxDetails?.FirstName}}
                                                                                    {{paxDetails?.LastName}}</td>
                                                                                <td
                                                                                    style="padding: 9px 15px; border-bottom: 1px dashed #bebcb8; color: #343a40;">
                                                                                    {{paxDetails?.Gender}} </td>
                                                                                <td
                                                                                    style="padding: 9px 15px; border-top: 1px solid #e9ecef; border-bottom: 1px dashed #bebcb8; color: #343a40;">
                                                                                    {{paxDetails?.Age}} </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>

                                            <tr>
                                                <td style="line-height:12px;">&nbsp;</td>
                                            </tr>
                                            <tr>
                                                <td colspan="4"
                                                    style=" padding:0; border-radius:7px; overflow: hidden; background: #fff;">
                                                    <table cellspacing="0" cellpadding="5" width="100%"
                                                        style="font-size:12px; padding:0;">
                                                        <tbody>
                                                            <tr>
                                                                <td colspan="4"
                                                                    style="background-color:#065081; padding: 9px 15px; border-bottom: 1px dashed #B1B5C3; color:#fff;">
                                                                    <span class="customer_contact_details"
                                                                        style="vertical-align:middle;font-size:20px; font-weight:600;">Contact
                                                                        Details</span>
                                                                </td>
                                                            </tr>
                                                            <tr style="font-size:15px;" class="cstmr_email_cnt">
                                                                <td
                                                                    style="background-color:#fff; font-weight: 600; padding:10px 15px; color:#555555">
                                                                    <span>
                                                                        <strong>E-mail</strong>
                                                                    </span>
                                                                </td>
                                                                <td
                                                                    style="background-color:#fff; font-weight: 600; padding:10px 15px; color:#555555">
                                                                    <span>
                                                                        <strong>Department</strong>
                                                                    </span>
                                                                </td>
                                                            </tr>
                                                            <tr style="color:#000; font-size:15px;"
                                                                class="cstmr_email_cnt">
                                                                <td style="padding:10px 15px; border-top: 1px solid #e9ecef;">
                                                                    <span> {{voucherData?.PersonalDetails?.EmailId}}
                                                                    </span>
                                                                </td>
                                                                <td style="padding:10px 15px; border-top: 1px solid #e9ecef;">
                                                                    <span> {{voucherData?.PersonalDetails?.Department}}
                                                                    </span>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="4" style="line-height:12px;">&nbsp;</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td>
            </tr>
        </tbody>
    </table>
</div>
