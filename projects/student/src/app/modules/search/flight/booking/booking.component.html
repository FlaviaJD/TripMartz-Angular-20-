<app-booking-steps [travellers]="true"></app-booking-steps>
<div class="card mb-2 mt-2" style="background:none; box-shadow:none;">
    <div class="card-body pb-3">
        <!-- <app-booking-flight-detail [flight]="flight" [traveller]="traveller"></app-booking-flight-detail> -->
        <div class="row">
            <div class="col-md-8 col-lg-8">
                <form [formGroup]="contactForm" class="needs-validation" novalidate (validSubmit)="onSubmitBooking()">
                    <!-- ************************************************************************************************************** -->
                    <div *ngFor="let iList of flight?.FlightDetails?.Details" class="row mobile_pad">
                        <div *ngFor="let list of iList; let i = index"
                            class="col-md-12 col-lg-12 mt-3 cardList rounded border card ">
                            <div class="cardListHead">
                               <b>{{list.Origin.CityName}}
                                    ({{list.Origin.AirportCode}})</b>
                                <span style='font-size:20px;'>&#8594;</span>
                                <b>{{list.Destination.CityName}} ({{list.Destination.AirportCode}})</b>
                                <b>{{list.Duration}}</b>
                            </div>
                            <div class="cardListBody">
                                <div style="display: table-row">
                                    <div style="width: 500px; display: table-cell;">
                                        <div class="cellStyles">
                                            <span style="color: #001D46;font-weight: 600;">Departure :
                                            </span> &nbsp;{{list.Origin.DateTime | date:'d MMM y, EEE'}}
                                        </div>
                                        <div style="display: table-row">
                                            <div class="colImgStyle">
                                                <img width="30" class="rounded"
                                                    [src]="[airline_logo + list.OperatorCode + '.gif']" alt="">
                                            </div>
                                            <div class="colImgStyle">
                                                <span style="font-size: 14px;color: #082B3A; line-height: 30px;">
                                                    {{ list.OperatorName }}, - {{list.DisplayOperatorCode}} | {{list.FlightNumber}}</span>
                                                <br><small *ngIf="list.CabinClass"> Cabin Class: {{list.CabinClass}}</small>
                                            </div>
                                        </div>
                                        <div style="display: table-row">
                                            <div class="colTimeStyle">
                                                <span style="color: #252c40;font-size: 20px;">{{ list.Origin.DateTime |
                                                    date: 'HH:mm'}}</span>
                                                <br><small>{{list.Origin.CityName}}
                                                    ({{list.Origin.AirportCode}})</small>
                                            </div>
                                            <div class="colTimeStyle"><span style='font-size:20px;'>&#8594;</span></div>

                                            <div class="colTimeStyle">
                                                <span style="color: #252c40;font-size: 20px;">{{
                                                    list.Destination.DateTime | date: 'HH:mm'}}</span>
                                                <br><small>{{list.Destination.CityName}}
                                                    ({{list.Destination.AirportCode}})</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="display: table-cell;border-left: 1px solid #D2D2D2;">
                                        <div class="row" style="padding: 12px;">
                                            <h5 class="col-12" style="padding: 0px 15px;">Baggage details</h5>
                                            <div class="col-md-6">
                                                <i class="fa fa-suitcase"></i> &nbsp;Cabin
                                            </div>
                                            <div class="col-md-6">
                                                <strong>{{list.Attr.CabinBaggage}}</strong>
                                            </div>
                                            <br />
                                            <div class="col-md-6">
                                                <i class="fa fa-suitcase"></i> &nbsp;Check In
                                            </div>
                                            <div class="col-md-6">
                                                <strong>{{list.Attr.Baggage | map: getBaggage}}</strong>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <!-- ****************************************************************************************** -->
                    <div class="row mt-3 pt-3 rounded border card mobile_row">
                        <div formArrayName="passengers" class="col-md-12 col-lg-12">
                            <div style="padding: 0px;" class="alert  col-md-12 col-lg-12" role="alert">
                                <ng-template #popTemplate>
                                    <div [innerHtml]="html" container="body"></div>
                                </ng-template>
                                <h4 class="text-muted" style="color:#333 !important;"> Passenger Details </h4>
                                <!-- N.B.- Please enter names as on Passport! -->
                                <span style="color: #252c40;padding: 0px 0px;" *ngIf="isPassportMandatory">Important : Passport valid for atleast 6
                                    months from
                                    departure date is required for international travel or transit abroad.</span>
                                <span>
                                </span>
                            </div>
                            <ng-container *ngFor="let item of passengers.controls; let i = index;" [formGroupName]="i">
                                <!-- <div class="infoQsn"><i class="f-16 ml-1 lnr-question-circle pull-right"
                                        [tooltip]="popTemplate"></i></div> -->
                                <div *ngIf="item.get('travellerType').value == 'adults'">
                                    <!-- <div class="valign-wrapper row mb-3" *ngIf="!isSelfBooking">
                                        <div class="col-md-4">
                                            <ng-container *ngIf="currentUser?.corporate_details?.business_name!='DCB Bank'"> 
                                           <div class="paylabel">Select Employee <b class="text-danger">*</b> </div> 
                                            <input type="text" formControlName="PassengerSelection" id="State" style="border-radius: 9px !important;"
                                                class="form-control form-control-sm nrm_input" placeholder="Search Employee" (keyup)="getTravellersList($event,i)"
                                                (focus)="setCurrentInput('PassengerSelection')" autocomplete="off" #state>
                                                <div *ngIf="item.get('PassengerSelection').valid && isCurrentInput('PassengerSelection') && slectededIndex==i" #employeeList>
                                                    <app-employee-list (whichEmployee)="setEmployee($event,item,'adults')" [getEmployee]="respData" [inputFor]="'selectedEmployee'">
                                                    </app-employee-list>
                                                </div>
                                            </ng-container>
                                            <ng-container *ngIf="currentUser?.corporate_details?.business_name=='DCB Bank'">
                                                <div class="mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="">Search By HRMS <b class="text-danger">*</b></span>
                                                    </div>
                                                    <div class="d-flex">
                                                        <input type="text" formControlName="PassengerSelection" id="State" style="border-radius: 0px !important;"
                                                            class="form-control form-control-sm nrm_input" placeholder="Enter HRMS"
                                                            (focus)="setCurrentInput('PassengerSelection')" autocomplete="off" #adultControl>
                                                        <button class="btn btn-outline-secondary btnstyle" type="button"
                                                            (click)="findEmployeeId(adultControl.value,item,i,'adults')" style=" margin-bottom: 6px;">Search</button>
                                                        </div>
                                                </div>
                                            </ng-container>
                                        </div>
                                        <div class="col-md-8 float-right">
                                            <div class="paylabel">&nbsp;</div>
                                        <a class="passengerClear text-right" (click)="clearDetails(item)"> Clear</a>
                                        </div>
                                    </div> -->
                                    <div class="form-row row">
                                        <div class="form-group col-md-1">
                                            <label for="inputAdult1">Adult
                                                {{ item.get('travellerTypeCount').value }} </label>
                                        </div>
                                        <div class="form-group col-md-2">
                                            <label class="lbllbl">Title<span class="required">*</span></label>
                                            <select formControlName="Title" (change)="setGenderDateOfBirth(item,'adults')"
                                                class="form-control form-control-sm capitalize">
                                                <option value='' disabled>Select</option>
                                                <ng-container *ngFor="let t of titles">
                                                    <option *ngIf="t.pax_type == 'ADULT'" [value]="t.title">
                                                        {{t.title}}
                                                    </option>
                                                </ng-container>
                                            </select>
                                        </div>
                                        <div class="form-group col-md-5">
                                            <label class="lbllbl">First Name<span class="required">*</span></label>
                                            <input formControlName="FirstName" type="text"
                                                style="text-transform:uppercase;" maxlength="100"
                                                class="form-control form-control-sm" placeholder="First Name"
                                                oninput="this.value = this.value.toUpperCase()">
                                        </div>

                                        <div class="form-group col-md-4">
                                            <label class="lbllbl">Last Name<span class="required">*</span></label>
                                            <input formControlName="LastName" type="text"
                                                style="text-transform:uppercase;" maxlength="100"
                                                class="form-control form-control-sm" placeholder="Last Name"
                                                oninput="this.value = this.value.toUpperCase()">
                                        </div>
                                    </div>
                                    <div class="form-row row" *ngIf="isPassportMandatory">
                                        <div class="form-group col-md-1"></div>
                                        <div class="form-group col-md-2">
                                            <label class="lbllbl">DOB<span class="required">*</span></label>
                                            <input type="text" placement="bottom left"
                                                class="form-control form-control-sm" formControlName="DateOfBirth"
                                                placeholder="D.O.B" readonly bsDatepicker [bsConfig]="bsDateConf"
                                                [minDate]="minDateAdult" [maxDate]="maxDateAdult">
                                            <span class="text-danger" style="font-size: 12px;"
                                                *ngIf="hasError('DateOfBirth', 'bsDate', 'passengers', i);">Enter Valid
                                                DOB</span>
                                        </div>
                                        <div class="form-group col-md-5">
                                            <label class="lbllbl">Gender<span class="required">*</span></label>
                                            <select formControlName="Gender" class="form-control form-control-sm"
                                                placeholder="Gender">
                                                <option value='' disabled>Select Gender</option>
                                                <option value="male">Male</option>
                                                <option value="female">Female</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-md-4">
                                            <label class="lbllbl">Nationality<span class="required">*</span></label>
                                            <select formControlName="Nationality"
                                                class="form-control form-control-sm payinput text-capitalize">
                                                <option value='' disabled>Select Nationality</option>
                                                <option *ngFor="let c of countries" [value]="c.code">
                                                    {{c.name}}
                                                </option>
                                            </select>
                                        </div>
                                        <!-- <div class="form-group col-md-3">
                                            <label class="lbllbl">PAN Number<span *ngIf="isPanMandatory" class="required">*</span></label>
                                            <input formControlName="PanNumber" type="text" maxlength="20"
                                                class="form-control form-control-sm payinput capitalize" placeholder="PAN Number"
                                                (keypress)="alphaNumberOnly($event)">
                                        </div> -->
                                    </div>
                                    <div class="form-row row" *ngIf="isPassportMandatory">
                                        <div class="form-group col-md-1"></div>
                                        <div class="form-group col-md-2">
                                            <label class="lbllbl">Country<span *ngIf="isPassportMandatory" class="required">*</span></label>
                                            <select formControlName="PassportIssuingCountry"
                                                class="form-control form-control-sm text-capitalize">
                                                <option value='' disabled>Select Country</option>
                                                <option *ngFor="let c of countries" [value]="c.code">
                                                    {{c.name}}</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-md-5">
                                            <label class="lbllbl">Passport Number<span *ngIf="isPassportMandatory" class="required">*</span></label>
                                            <input formControlName="PassportNumber" style="text-transform: uppercase;"
                                                type="text" maxlength="100" class="form-control form-control-sm"
                                                placeholder="Passport Number" (keypress)="alphaNumberOnly($event)">
                                        </div>
                                        <div class="form-group col-md-4">
                                            <label class="lbllbl">Passport Expiry Date<span *ngIf="isPassportMandatory" class="required">*</span></label>
                                            <input type="text" placement="bottom left"
                                                class="form-control form-control-sm" formControlName="PassportExpiry"
                                                placeholder="Passport Expiry Date" readonly bsDatepicker
                                                [bsConfig]="bsDateConf" [minDate]="minDatePassportExpiry">
                                            <span class="text-danger" style="font-size: 12px;"
                                                *ngIf="hasError('PassportExpiry', 'bsDate', 'passengers', i);">Enter
                                                Valid Passport Expiry</span>
                                        </div>
                                    </div>
                                    <div class="form-row row">
                                        <div class="form-group col-md-1"></div>
                                        <div class="form-group col-md-2">
                                            <label class="lbllbl">Phone Code<span class="required">*</span></label>
                                            <select formControlName="PhoneCode"
                                                class="form-control form-control-sm text-capitalize">
                                                <option  [value]="p.phone_code" *ngFor="let p of phoneCodes">
                                                    {{p.name}}({{ p.phone_code }})
                                                </option>
                                            </select>
                                        </div>
                                        <div class="form-group col-md-5">
                                            <label class="lbllbl">Phone Number<span  class="required">*</span></label>
                                            <input formControlName="ContactNo" style="text-transform: uppercase;"
                                                type="text" maxlength="15" class="form-control form-control-sm"
                                                placeholder="Phone Number" (keypress)="alphaNumberOnly($event)">
                                        </div>
                                        <div class="form-group col-md-4">
                                            <label class="lbllbl">Email<span  class="required">*</span></label>
                                            <div class="">
                                                <input formControlName="Email" type="email" class="form-control form-control-sm"
                                                    maxlength="40" placeholder="example@gmail.com">
                                            </div>
                                            <!-- <span class="text-danger" style="font-size: 12px;"
                                                *ngIf="hasError('PassportExpiry', 'bsDate', 'passengers', i);">Enter
                                                Valid Passport Expiry</span> -->
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="item.get('travellerType').value == 'childrens'">
                                    <div class="valign-wrapper row mb-3"  *ngIf="!isSelfBooking">
                                        <div class="col-md-4">
                                            <ng-container *ngIf="currentUser?.corporate_details?.business_name!='DCB Bank'"> 
                                            <div class="paylabel">Select Employee <b class="text-danger">*</b> </div>
                                            <input type="text" formControlName="PassengerSelection" id="State" style="border-radius: 9px !important;"
                                                class="form-control form-control-sm nrm_input" placeholder="Search Employee" (keyup)="getTravellersList($event,i)"
                                                (focus)="setCurrentInput('PassengerSelection')" autocomplete="off" #state>
                                                <div *ngIf="item.get('PassengerSelection').valid && isCurrentInput('PassengerSelection') && slectededIndex==i" #employeeList>
                                                    <app-employee-list (whichEmployee)="setEmployee($event,item,'childrens')" [getEmployee]="respData" [inputFor]="'selectedEmployee'" >
                                                    </app-employee-list>
                                                </div>
                                            </ng-container>
                                            <ng-container *ngIf="currentUser?.corporate_details?.business_name=='DCB Bank'">
                                                <div class="mb-3">
                                                    <div class="input-group-prepend">
                                                        <span class="">Search By HRMS <b class="text-danger">*</b></span>
                                                    </div>
                                                    <div class="d-flex">
                                                        <input type="text" formControlName="PassengerSelection" id="State" style="border-radius: 0px !important;"
                                                            class="form-control form-control-sm nrm_input" placeholder="Enter HRMS"
                                                            (focus)="setCurrentInput('PassengerSelection')" autocomplete="off" #childControl>
                                                        <button class="btn btn-outline-secondary btnstyle" type="button"
                                                            (click)="findEmployeeId(childControl.value,item,i,'childrens')" style=" margin-bottom: 6px;">Search</button>
                                                    </div>
                                                </div>
                                            </ng-container>
                                                <!-- <small class="error text-danger"
                                                *ngIf="stateNotSelected">
                                                Select State From Dropdown* <br>
                                            </small> -->
                                        </div>
                                        <div class="col-md-8 float-right">
                                            <div class="paylabel">&nbsp;</div>
                                        <a class="passengerClear text-right" (click)="clearDetails(item)"> Clear</a>
                                        </div>
                                    </div>
                                    <div class="form-row row">
                                        <div class="form-group col-md-1">
                                            <label for="inputAdult1">Child {{ item.get('travellerTypeCount').value }}
                                            </label>
                                        </div>
                                        <div class="form-group col-md-2">
                                            <label class="lbllbl">Title<span class="required">*</span></label>
                                            <select formControlName="Title" (change)="setGenderDateOfBirth(item,'childrens')"
                                                class="form-control form-control-sm capitalize">
                                                <option value='' disabled>Select</option>
                                                <ng-container *ngFor="let t of titles">
                                                    <option *ngIf="t.pax_type == 'CHILD'" [value]="t.title">
                                                        {{t.title}}
                                                    </option>
                                                </ng-container>
                                            </select>
                                        </div>
                                        <div class="form-group col-md-5">
                                            <label class="lbllbl">First Name<span class="required">*</span></label>
                                            <input formControlName="FirstName" type="text"
                                                style="text-transform: uppercase;" maxlength="100"
                                                class="form-control form-control-sm" placeholder="First Name"
                                                oninput="this.value = this.value.toUpperCase()">
                                        </div>

                                        <div class="form-group col-md-4">
                                            <label class="lbllbl">Last Name<span class="required">*</span></label>
                                            <input formControlName="LastName" type="text"
                                                style="text-transform: uppercase;" maxlength="100"
                                                class="form-control form-control-sm" placeholder="Last Name"
                                                oninput="this.value = this.value.toUpperCase()">
                                        </div>
                                    </div>
                                    <div class="form-row row" *ngIf="isPassportMandatory">
                                        <div class="form-group col-md-1"></div>
                                        <div class="form-group col-md-2">
                                            <label class="lbllbl">DOB<span class="required">*</span></label>
                                            <input type="text" placement="bottom left"
                                                class="form-control form-control-sm" formControlName="DateOfBirth"
                                                placeholder="D.O.B" readonly bsDatepicker [bsConfig]="bsDateConf"
                                                [minDate]="minDateChild" [maxDate]="maxDateChild">
                                            <span class="text-danger" style="font-size: 12px;"
                                                *ngIf="hasError('DateOfBirth', 'bsDate', 'passengers', i);">Enter Valid
                                                DOB</span>
                                        </div>

                                        <div class="form-group col-md-5">
                                            <label class="lbllbl">Gender<span class="required">*</span></label>
                                            <select formControlName="Gender" class="form-control form-control-sm"
                                                placeholder="Gender">
                                                <option value='' disabled>Select Gender</option>
                                                <option value="male">Male</option>
                                                <option value="female">Female</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-md-4">
                                            <label class="lbllbl">Nationality<span class="required">*</span></label>
                                            <select formControlName="Nationality"
                                                class="form-control form-control-sm payinput text-capitalize">
                                                <option value='' disabled>Select Nationality</option>
                                                <option *ngFor="let c of countries" [value]="c.code">
                                                    {{c.name}}
                                                </option>
                                            </select>
                                        </div>
                                        <!-- <div class="form-group col-md-3">
                                            <label class="lbllbl">PAN Number<span *ngIf="isPanMandatory" class="required">*</span></label>
                                            <input formControlName="PanNumber" type="text" maxlength="20"
                                                class="form-control form-control-sm payinput capitalize" placeholder="PAN Number"
                                                (keypress)="alphaNumberOnly($event)">
                                        </div> -->
                                        
                                    </div>
                                    <div class="form-row row" *ngIf="isPassportMandatory">
                                        <div class="form-group col-md-1"></div>
                                        <div class="form-group col-md-2">
                                            <label class="lbllbl">Country<span *ngIf="isPassportMandatory" class="required">*</span></label>
                                            <select formControlName="PassportIssuingCountry"
                                                class="form-control form-control-sm text-capitalize">
                                                <option value='' disabled>Select Country</option>
                                                <option *ngFor="let c of countries" [value]="c.code">
                                                    {{c.name}}</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-md-5">
                                            <label class="lbllbl">Passport Number<span *ngIf="isPassportMandatory" class="required">*</span></label>
                                            <input formControlName="PassportNumber" type="text"
                                                style="text-transform: uppercase;" maxlength="100"
                                                class="form-control form-control-sm" placeholder="Passport Number"
                                                (keypress)="alphaNumberOnly($event)">
                                        </div>
                                        <div class="form-group col-md-4">
                                            <label class="lbllbl">Passport Expiry Date<span *ngIf="isPassportMandatory" class="required">*</span></label>
                                            <input type="text" placement="bottom left"
                                                class="form-control form-control-sm" formControlName="PassportExpiry"
                                                placeholder="Passport Expiry Date" readonly bsDatepicker
                                                [bsConfig]="bsDateConf" [minDate]="minDatePassportExpiry">
                                            <span class="text-danger" style="font-size: 12px;"
                                                *ngIf="hasError('PassportExpiry', 'bsDate', 'passengers', i);">Enter
                                                Valid Passport Expiry</span>
                                        </div>
                                    </div>
                                        <div class="form-row row">
                                            <div class="form-group col-md-1"></div>
                                            <div class="form-group col-md-2">
                                                <label class="lbllbl">Phone Code<span class="required">*</span></label>
                                                <select formControlName="PhoneCode"
                                                    class="form-control form-control-sm text-capitalize">
                                                    <option  [value]="p.phone_code" *ngFor="let p of phoneCodes">
                                                        {{p.name}}({{ p.phone_code }})
                                                    </option>
                                                </select>
                                            </div>
                                            <div class="form-group col-md-5">
                                                <label class="lbllbl">Phone Number<span  class="required">*</span></label>
                                                <input formControlName="ContactNo" style="text-transform: uppercase;"
                                                    type="text" maxlength="15" class="form-control form-control-sm"
                                                    placeholder="Phone Number" (keypress)="alphaNumberOnly($event)">
                                            </div>
                                            <div class="form-group col-md-4">
                                                <label class="lbllbl">Email<span  class="required">*</span></label>
                                                <div class="">
                                                    <input formControlName="Email" type="email" class="form-control form-control-sm"
                                                        maxlength="40" placeholder="example@gmail.com">
                                                </div>
                                                <!-- <span class="text-danger" style="font-size: 12px;"
                                                    *ngIf="hasError('PassportExpiry', 'bsDate', 'passengers', i);">Enter
                                                    Valid Passport Expiry</span> -->
                                            </div>
                                        </div>
                                </div>

                                <div *ngIf="item.get('travellerType').value == 'infants'">
                                    <div class="valign-wrapper row mb-3"  *ngIf="!isSelfBooking">
                                        <ng-container *ngIf="currentUser?.corporate_details?.business_name!='DCB Bank'"> 
                                        <div class="col-md-4">
                                            <div class="paylabel">Select Employee <b class="text-danger">*</b> </div>
                                            <input type="text" formControlName="PassengerSelection" id="State" style="border-radius: 9px !important;"
                                                class="form-control form-control-sm nrm_input" placeholder="Search Employee" (keyup)="getTravellersList($event,i)"
                                                (focus)="setCurrentInput('PassengerSelection')" autocomplete="off" #state>
                                                <div *ngIf="item.get('PassengerSelection').valid && isCurrentInput('PassengerSelection') && slectededIndex==i" #employeeList>
                                                    <app-employee-list (whichEmployee)="setEmployee($event,item,'infants')" [getEmployee]="respData" [inputFor]="'selectedEmployee'" >
                                                    </app-employee-list>
                                                </div>
                                                <!-- <small class="error text-danger"
                                                *ngIf="stateNotSelected">
                                                Select State From Dropdown* <br>
                                            </small> -->
                                        </div>
                                    </ng-container>
                                 <ng-container *ngIf="currentUser?.corporate_details?.business_name=='DCB Bank'">
                                    <div class="col-md-4">
                                    <div class="mb-3">
                                        <div class="input-group-prepend">
                                            <span class="">Search By HRMS <b class="text-danger">*</b></span>
                                        </div>
                                        <div class="d-flex">
                                            <input type="text" formControlName="PassengerSelection" id="State" style="border-radius: 0px !important;"
                                                class="form-control form-control-sm nrm_input" placeholder="Enter HRMS"
                                                (focus)="setCurrentInput('PassengerSelection')" autocomplete="off" #infantControl>
                                            <button class="btn btn-outline-secondary btnstyle" type="button"
                                                (click)="findEmployeeId(infantControl.value,item,i,'infants')" style=" margin-bottom: 6px;">Search</button>
                                        </div>
                                    </div>
                                    </div>
                                </ng-container>
                                        <div class="col-md-8 float-right">
                                            <div class="paylabel">&nbsp;</div>
                                        <a class="passengerClear text-right" (click)="clearDetails(item)"> Clear</a>
                                        </div>
                                       
                                    </div>
                                    <div class="form-row row">
                                        <div class="form-group col-md-1">
                                            <label for="inputAdult1">Infant
                                                {{ item.get('travellerTypeCount').value }}</label>
                                        </div>
                                        <div class="form-group col-md-2">
                                            <label class="lbllbl">Title<span class="required">*</span></label>
                                            <select formControlName="Title" (change)="setGenderDateOfBirth(item,'infants')"
                                                class="form-control form-control-sm capitalize">
                                                <option value='' disabled>Select</option>
                                                <ng-container *ngFor="let t of titles">
                                                    <option *ngIf="t.pax_type == 'CHILD'" [value]="t.title">
                                                        {{t.title}}
                                                    </option>
                                                </ng-container>
                                            </select>
                                        </div>
                                        <div class="form-group col-md-5">
                                            <label class="lbllbl">First Name<span class="required">*</span></label>
                                            <input formControlName="FirstName" type="text"
                                                style="text-transform: uppercase;" maxlength="100"
                                                class="form-control form-control-sm" placeholder="First Name"
                                                oninput="this.value = this.value.toUpperCase()">
                                        </div>

                                        <div class="form-group col-md-4">
                                            <label class="lbllbl">Last Name<span class="required">*</span></label>
                                            <input formControlName="LastName" type="text"
                                                style="text-transform: uppercase;" maxlength="100"
                                                class="form-control form-control-sm" placeholder="Last Name"
                                                oninput="this.value = this.value.toUpperCase()">
                                        </div>
                                    </div>
                                    <div class="form-row row" *ngIf="isPassportMandatory">
                                        <div class="form-group col-md-1"></div>
                                        <div class="form-group col-md-2">
                                            <label class="lbllbl">DOB<span class="required">*</span></label>
                                            <input type="text" placement="bottom left"
                                                class="form-control form-control-sm" formControlName="DateOfBirth"
                                                placeholder="D.O.B" readonly bsDatepicker [bsConfig]="bsDateConf"
                                                [minDate]="minDateInfant" [maxDate]="maxDateInfant">
                                            <span class="text-danger" style="font-size: 12px;"
                                                *ngIf="hasError('DateOfBirth', 'bsDate', 'passengers', i);">Enter Valid
                                                DOB</span>
                                        </div>

                                        <div class="form-group col-md-5">
                                            <label class="lbllbl">Gender<span class="required">*</span></label>
                                            <select formControlName="Gender" class="form-control form-control-sm"
                                                placeholder="Gender">
                                                <option value='' disabled>Select Gender</option>
                                                <option value="male">Male</option>
                                                <option value="female">Female</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-md-4">
                                            <label class="lbllbl">Nationality<span class="required">*</span></label>
                                            <select formControlName="Nationality"
                                                class="form-control form-control-sm payinput text-capitalize">
                                                <option value='' disabled>Select Nationality</option>
                                                <option *ngFor="let c of countries" [value]="c.code">
                                                    {{c.name}}
                                                </option>
                                            </select>
                                        </div>
                                        <!-- <div class="form-group col-md-3">
                                            <label class="lbllbl">PAN Number<span *ngIf="isPanMandatory" class="required">*</span></label>
                                            <input formControlName="PanNumber" type="text" maxlength="20"
                                                class="form-control form-control-sm payinput capitalize" placeholder="PAN Number"
                                                (keypress)="alphaNumberOnly($event)">
                                        </div> -->
                                    </div>
                                    <div class="form-row row" *ngIf="isPassportMandatory">
                                        <div class="form-group col-md-1"></div>
                                        <div class="form-group col-md-2">
                                            <label class="lbllbl">Country<span *ngIf="isPassportMandatory" class="required">*</span></label>
                                            <select formControlName="PassportIssuingCountry"
                                                class="form-control form-control-sm text-capitalize">
                                                <option value='' disabled>Select Country</option>
                                                <option *ngFor="let c of countries" [value]="c.code">
                                                    {{c.name}}</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-md-5">
                                            <label class="lbllbl">Passport Number<span *ngIf="isPassportMandatory" class="required">*</span></label>
                                            <input formControlName="PassportNumber" type="text"
                                                style="text-transform: uppercase;" maxlength="100"
                                                class="form-control form-control-sm" placeholder="Passport Number"
                                                (keypress)="alphaNumberOnly($event)">
                                        </div>
                                        <div class="form-group col-md-4">
                                            <label class="lbllbl">Passport Expiry Date<span *ngIf="isPassportMandatory" class="required">*</span></label>
                                            <input type="text" placement="bottom left"
                                                class="form-control form-control-sm" formControlName="PassportExpiry"
                                                placeholder="Passport Expiry Date" readonly bsDatepicker
                                                [bsConfig]="bsDateConf" [minDate]="minDatePassportExpiry">
                                            <span class="text-danger" style="font-size: 12px;"
                                                *ngIf="hasError('PassportExpiry', 'bsDate', 'passengers', i);">Enter
                                                Valid Passport Expiry</span>
                                        </div>
                                    </div>
                                    <div class="form-row row">
                                        <div class="form-group col-md-1"></div>
                                        <div class="form-group col-md-2">
                                            <label class="lbllbl">Phone Code<span class="required">*</span></label>
                                            <select formControlName="PhoneCode"
                                                class="form-control form-control-sm text-capitalize">
                                                <option [value]="p.phone_code" *ngFor="let p of phoneCodes">
                                                    {{p.name}}({{ p.phone_code }})
                                                </option>
                                            </select>
                                        </div>
                                        <div class="form-group col-md-5">
                                            <label class="lbllbl">Phone Number<span  class="required">*</span></label>
                                            <input formControlName="ContactNo" style="text-transform: uppercase;"
                                                type="text" maxlength="15" class="form-control form-control-sm"
                                                placeholder="Phone Number" (keypress)="alphaNumberOnly($event)">
                                        </div>
                                        <div class="form-group col-md-4">
                                            <label class="lbllbl">Email<span  class="required">*</span></label>
                                            <div class="">
                                                <input formControlName="Email" type="email" class="form-control form-control-sm"
                                                    maxlength="40" placeholder="example@gmail.com">
                                            </div>
                                            <!-- <span class="text-danger" style="font-size: 12px;"
                                                *ngIf="hasError('PassportExpiry', 'bsDate', 'passengers', i);">Enter
                                                Valid Passport Expiry</span> -->
                                        </div>
                                    </div>
                                </div>
                                <hr *ngIf="passengers.controls.length > i + 1" />
                            </ng-container>
                        </div>
                    </div>
                    <div *ngIf="flight && flight?.Attr?.is_usa" class="row my-3 py-4 border rounded">
                        <span class="f-20 text-info text-upercase float-left">
                            <i class="text-danger ion-md-globe"></i> Ticket to <span class="text-danger"> USA </span> to
                            add additional information
                        </span>
                        <div class="col-md-12 mt-4 text-muted f-12">
                            <div formGroupName="usaDetailsForm" class="col-md-12 col-lg-12">
                                <div class="form-row">
                                    <div class="form-group col-md-4">
                                        <input type="text" formControlName="country_name" readonly
                                            class="form-control form-control-sm" [value]="'USA'" placeholder="">
                                    </div>
                                    <div class="form-group col-md-4">
                                        <select formControlName="gender" #selectedCountry
                                            class="form-control form-control-sm">
                                            <option value="Male"> Male </option>
                                            <option value="Female"> Female </option>
                                            <option value="Others"> Others </option>
                                        </select>
                                    </div>
                                    <div class="form-group col-md-4">
                                        <select formControlName="types" #selectedCountry
                                            class="form-control form-control-sm">
                                            <option value="resident"> Resident </option>
                                            <option value="official"> Official </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-12">
                                        <textarea formControlName="address" class="form-control form-control-sm"
                                            rows="2" placeholder="Address"></textarea>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-4">
                                        <input formControlName="city" type="text" class="form-control form-control-sm"
                                            placeholder="City">
                                    </div>
                                    <div class="form-group col-md-4">
                                        <input formControlName="state" type="text" class="form-control form-control-sm"
                                            placeholder="State">
                                    </div>
                                    <div class="form-group col-md-4">
                                        <input formControlName="postal_code" type="text"
                                            class="form-control form-control-sm" placeholder="Postal COde">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- <div class="row mt-3 py-3 rounded border card mobile_row">
                        <div formGroupName="contact" class="col-md-12 col-lg-12">
                            <h4 class="text-muted" style="color:#333 !important;"> Other Details </h4>
                            <div class="">
                                <div class="form-row">
                                </div>
                                <div class="form-row">
                                        <div class="form-group col-md-3">
                                            <label class="lbllbl">State </label>
                                            <input type="text" formControlName="state" id="State" 
                                                class="payinput" (keyup)="getSearchedList($event)"
                                                (focus)="setCurrentInput('state')" autocomplete="off" #state>
                                             
                                                    <app-state-list (whichCity)="getDynamicCity($event)" [getCity]="searchedList" [inputFor]="'state'">
                                                    </app-state-list>
                                        
                                                <small class="error text-danger"
                                                *ngIf="stateNotSelected">
                                                Select State From Dropdown* <br>
                                            </small>
                                        </div>
                                    <div class="form-group col-md-9">
                                        <label class="lbllbl">Remark</label>
                                        <textarea formControlName="message" class="form-control form-control-sm"
                                            rows="3"></textarea>
                                    </div>
                                </div>
                                
                                <div class="text-danger">
                                    <small> Mobile number &amp; Email ID will be used only for sending
                                        flight related communication.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div> -->
                    <div class="row mt-3 py-3 rounded border card d-none mobile_row">
                        <div class="col-md-12 col-lg-12">
                            <h4 class="text-muted" style="color:#333 !important;"> Special Requests (Optional) </h4>
                            <div class="">
                                <div class="form-row">
                                    <div class="panel-body d-flex">
                                        <div class="col-md-6 set_margin spllty splinmar">
                                            <div class="formlabel">Meal (Optional)</div>
                                            <select name="mealcode[]" class="form-control form-control-sm">
                                                <option value="">Please Select</option>
                                                <option value="AVML">VEGETARIAN HINDU MEAL</option>
                                                <option value="BBML">Baby meal /Infant/Baby Food</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6 set_margin spllty splinmar">
                                            <div class="formlabel">Special Request (Optional)</div>
                                            <select name="special_assistance[]" class="form-control form-control-sm"
                                                placeholder="Select">
                                                <option value="">Please Select</option>
                                                <option value="DEAF"> Deaf Passenger</option>
                                                <option value="BSCT"> Bassinet/ Baby Basket</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mobile_row d-none">
                    <div class="sectionbuk billingnob mt-3 w-100 float-left"
                    style="box-shadow: 0px 1px 16px #ddd; padding: 12px !important;display: none;">
                    <div class="mt-1 ml-2">
                        <h4 style="color: #000; font-size:17px; padding-top:0px; margin:0px; margin-bottom: 10px;"
                            class="inpagehed">Extra Add ons</h4>
                        <div class="mt-0 py-0 rounded border card" style=" border: none !important;
                        padding: 0px !important;">
                            <div class="col-md-12 nopad addons">
                                <ngb-tabset>
                                    <ngb-tab>
                                        <ng-template ngbTabTitle>
                                            <i class=" fi-rr-suitcase-alt"></i> Baggage Selection
                                        </ng-template>
                                        <ng-template ngbTabContent>
                                            <!-- Baggage selection start -->
                                            <div class="mt-3 py-3 rounded border card"
                                                *ngIf="showSeatSelection">
                                                <div class="col-md-12 col-lg-12">
                                                    <h4 class="text-muted"
                                                        style="color:#189AD3 !important;"> Purchase Your
                                                        Extra Baggages </h4>
                                                    <div class="panel-body p-0 mt-3 d-flex col-12">
                                                        <div
                                                            class="col-md-3 p-0 set_margin spllty splinmar">
                                                            <img class="seatImage"
                                                                src="assets/images/suitcase.jpg">
                                                        </div>
                                                        <div
                                                            class="col-md-9 set_margin mt-0 p-0 pl-2 spllty splinmar">
                                                            <div class="chooseSeatSec">
                                                                <div class="col-md-12 nopad"
                                                                    *ngIf="!isSeatLoading && (baggageMapSectors && baggageMapSectors?.size>0)">
                                                                    <div class="btn mail_box_btn seat_sel_btn collapsed"
                                                                        data-toggle="collapse"
                                                                        data-target="#baggage_sel"
                                                                        aria-expanded="false"
                                                                        (click)="setSelectedPassenger(0)">
                                                                        Choose Extra Baggage
                                                                    </div>
                                                                    <div class="inlineSec">
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-12 nopad"
                                                                    *ngIf="!isSeatLoading && (!baggageMapSectors || baggageMapSectors?.size==0)">
                                                                    <div class="text-center">No Baggage
                                                                        Available</div>
                                                                    <div class="inlineSec">
                                                                    </div>
                                                                </div>
                                                                <div class="inlineSec">
                                                                    <div *ngIf="isSeatLoading"
                                                                        style="text-align: center; margin-top: 50px; margin-bottom: 50px;">
                                                                        <br />
                                                                        <br />
                                                                        <br />
                                                                        <div class="spinner-grow text-primary"
                                                                            role="status">
                                                                            <span
                                                                                class="sr-only">Loading...</span>
                                                                        </div>
                                                                        <div class="spinner-grow text-secondary"
                                                                            role="status">
                                                                            <span
                                                                                class="sr-only">Loading...</span>
                                                                        </div>
                                                                    </div>
                                                                    <table class="table table-striped">
                                                                        <tbody>
                                                                            <ng-container
                                                                                *ngFor="let selectedBaggageSector of baggageMapSectors | keyvalue : originalOrder">
                                                                                <tr>
                                                                                    <td>{{
                                                                                        selectedBaggageSector.key.split(',')[2]
                                                                                        }}-{{
                                                                                        selectedBaggageSector.key.split(',')[3]
                                                                                        }}</td>
                                                                                    <td>
                                                                                        <ng-container
                                                                                            *ngFor="let selectedBaggage of selectedBaggageSector.value | keyvalue; let last = last">
                                                                                            <ng-container
                                                                                                *ngFor="let baggage of selectedBaggage.value | keyvalue">
                                                                                                <ng-container
                                                                                                    *ngIf="baggage?.value">
                                                                                                    <span>{{baggage?.value?.AirlineDescription}}
                                                                                                        {{baggage?.value?.Currency}}
                                                                                                        {{baggage?.value?.Price}}
                                                                                                    </span>
                                                                                                    <span
                                                                                                        *ngIf="!last">,
                                                                                                    </span>
                                                                                                </ng-container>
                                                                                            </ng-container>
                                                                                        </ng-container>
                                                                                    </td>
                                                                                </tr>
                                                                            </ng-container>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div *ngIf="baggageArray && baggageArray.length>0"
                                                                    class="btn remove collapsed"
                                                                    id="remove_selected_baggage"
                                                                    data-target="#baggage_sel"
                                                                    data-toggle="collapse"
                                                                    style="display: inline-block;"
                                                                    aria-expanded="false"
                                                                    (click)="setSelectedPassenger(0)">Remove
                                                                    Baggage
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <ng-container formArrayName="passengers">
                                                    <div id="baggage_sel" class="col-md-12 collapse hidden">
                                                        <div class="panel-body p-0 d-flex col-12">
                                                            <div
                                                                class="col-md-12 set_margin mt-3 p-0 spllty splinmar">
                                                                <ngb-tabset
                                                                    (tabChange)="onBaggageTabSelected($event)"
                                                                    [(activeId)]="selectedBaggageTabIndex">
                                                                    <ngb-tab
                                                                        *ngFor="let item of baggageMapData | keyvalue : originalOrder;let sectorIndex = index;"
                                                                        title="{{item.key.split(',')[2]}}-{{item.key.split(',')[3]}}"
                                                                        [id]="sectorIndex">
                                                                        <ng-template ngbTabContent>
                                                                            <div class="col-12 p-0 d-flex"
                                                                                style="margin-top: 17px;">
                                                                                <div class="col-md-4 p-0">
                                                                                    <div
                                                                                        style="margin-top: 20px;">
                                                                                        <div class="seat_passenger"
                                                                                            *ngFor="let passenger of passengers.controls; let ii = index;"
                                                                                            [formGroupName]="ii">
                                                                                            <input
                                                                                                type="radio"
                                                                                                id="label{{ii}}"
                                                                                                #baggageOptionRef
                                                                                                [value]="ii"
                                                                                                [checked]="ii === 0"
                                                                                                (change)="setSelectedPassenger(ii)"
                                                                                                class="seat_radio"
                                                                                                name="passengerSelection">
                                                                                            <ng-container
                                                                                                *ngIf="passenger.get('SelectedBaggage').value === null || passenger.get('SelectedBaggage').value.length==0">
                                                                                                <label
                                                                                                class="seat_label"
                                                                                                for="label{{ii}}"><span
                                                                                                    class="psngr_rgt_box1">Not
                                                                                                    Selected</span></label>
                                                                                                    <div
                                                                                                    class="check">
                                                                                                </div>
                                                                                            </ng-container>
                                                                                            <ng-container
                                                                                                *ngIf="passenger.get('SelectedBaggage').value !== null">
                                                                                                <ng-container
                                                                                                    *ngFor="let baggage of passenger.get('SelectedBaggage').value | keyvalue : originalOrder; let i = index">
                                                                                                    <ng-container
                                                                                                        *ngFor="let value of baggage.value | keyvalue : originalOrder; let j = index">
                                                                                                        <ng-container
                                                                                                            *ngIf="i === ii">
                                                                                                            <!-- Check if the index matches the passenger index -->
                                                                                                            <span
                                                                                                                *ngIf="value?.value && value?.value?.SelectedBaggageSector===selectedBaggageTabIndex">
                                                                                                                {{
                                                                                                                value?.value?.AirlineDescription
                                                                                                                }}
                                                                                                                -
                                                                                                                {{
                                                                                                                value?.value?.Currency
                                                                                                                }}
                                                                                                                {{
                                                                                                                value?.value?.Price
                                                                                                                }}
                                                                                                            </span>
                                                                                                            <span
                                                                                                                *ngIf="!value?.value">
                                                                                                                Not
                                                                                                                Selected
                                                                                                            </span>
                                                                                                            <a *ngIf="value?.value"
                                                                                                                (click)="removeBaggage(item,sectorIndex,ii, passenger)"
                                                                                                                class="text-danger cancle-btn"
                                                                                                                style="display: block; z-index: 999; position: relative;">
                                                                                                                <i
                                                                                                                    class="fa fa-times"></i>
                                                                                                            </a>
                                                                                                            <!-- Your other code for removing baggage if needed -->
                                                                                                        </ng-container>
                                                                                                    </ng-container>
                                                                                                </ng-container>
                                                                                            </ng-container>
                                                                                            <b>
                                                                                                <p
                                                                                                    class="A_N_1">
                                                                                                    {{
                                                                                                    passenger.get('FirstName').value}}
                                                                                                    {{
                                                                                                    passenger.get('LastName').value}}
                                                                                                </p>
                                                                                            </b>
                                                                                            <b>
                                                                                            </b>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-8">
                                                                                    <div *ngFor="let passenger of passengers.controls; let ii = index;"
                                                                                        [formGroupName]="ii">
                                                                                        <select
                                                                                            class="form-control form-control-sm mt-2 baggage_sel"
                                                                                            #baggageSelect
                                                                                            formControlName="Baggage"
                                                                                            (change)="onBaggageSelection(item, sectorIndex, $event.target.value,ii,passenger)"
                                                                                            id="passenger_bag_selector">
                                                                                            <option value=""
                                                                                                selected
                                                                                                disabled>
                                                                                                Select
                                                                                                Baggage
                                                                                            </option>
                                                                                            <option
                                                                                                *ngFor="let rows of item.value | keyvalue : originalOrder"
                                                                                                [value]="rows.key">
                                                                                                {{
                                                                                                rows.value.AirlineDescription
                                                                                                }}- {{
                                                                                                rows.value.Currency
                                                                                                }} {{
                                                                                                rows.value.Price
                                                                                                }}
                                                                                            </option>
                                                                                        </select>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </ng-template>
                                                                    </ngb-tab>
                                                                </ngb-tabset>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-container>
                                            </div>
                                            <!-- Baggage selection end -->
                                        </ng-template>
                                    </ngb-tab>
                                    <ngb-tab>
                                        <ng-template ngbTabTitle>
                                            <i class="fi-rr-burger-fries"></i> Meals Selection
                                        </ng-template>
                                        <ng-template ngbTabContent>
                                            <!-- Meal selection start -->
                                            <div class="mt-3 py-3 rounded border card"
                                                *ngIf="showSeatSelection">
                                                <div class="col-md-12 col-lg-12">
                                                    <h4 class="text-muted"
                                                        style="color:#189AD3 !important;"> Purchase Meal
                                                    </h4>
                                                    <div class="panel-body p-0 mt-3 d-flex col-12">
                                                        <div
                                                            class="col-md-3 p-0 set_margin spllty splinmar p-0">
                                                            <img class="seatImage"
                                                                src="assets/images/meal_image.jpeg">
                                                        </div>
                                                        <div
                                                            class="col-md-9 set_margin mt-0 spllty splinmar">
                                                            <div class="chooseSeatSec">
                                                                <div class="col-md-12 nopad"
                                                                    *ngIf="!isSeatLoading && (mealMapSectors && mealMapSectors?.size>0)">
                                                                    <div class="btn mail_box_btn seat_sel_btn collapsed"
                                                                        data-toggle="collapse"
                                                                        data-target="#meal_sel"
                                                                        aria-expanded="false"
                                                                        (click)="setSelectedPassenger(0)">
                                                                        Choose Meal
                                                                    </div>
                                                                    <div class="inlineSec">
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-12 nopad"
                                                                    *ngIf="!isSeatLoading && (!mealMapSectors || mealMapSectors?.size==0)">
                                                                    <div class="text-center">No Meal
                                                                        Available</div>
                                                                    <div class="inlineSec">
                                                                    </div>
                                                                </div>
                                                                <div class="inlineSec">
                                                                    <div *ngIf="isSeatLoading"
                                                                        style="text-align: center; margin-top: 50px; margin-bottom: 50px;">
                                                                        <br />
                                                                        <br />
                                                                        <br />
                                                                        <div class="spinner-grow text-primary"
                                                                            role="status">
                                                                            <span
                                                                                class="sr-only">Loading...</span>
                                                                        </div>
                                                                        <div class="spinner-grow text-secondary"
                                                                            role="status">
                                                                            <span
                                                                                class="sr-only">Loading...</span>
                                                                        </div>
                                                                    </div>
                                                                    <table class="table table-striped">
                                                                        <tbody>
                                                                            <ng-container
                                                                                *ngFor="let selectedMealSector of mealMapSectors | keyvalue : originalOrder">
                                                                                <tr>
                                                                                    <td>{{
                                                                                        selectedMealSector.key.split(',')[2]
                                                                                        }}-{{
                                                                                        selectedMealSector.key.split(',')[3]
                                                                                        }}</td>
                                                                                    <td>
                                                                                        <ng-container
                                                                                            *ngFor="let selectedMeal of selectedMealSector.value | keyvalue; let last = last">
                                                                                            <ng-container
                                                                                                *ngFor="let meal of selectedMeal.value | keyvalue">
                                                                                                <ng-container
                                                                                                    *ngIf="meal?.value">
                                                                                                    <span>{{meal?.value?.Code}}-
                                                                                                        {{meal?.value?.Currency}}
                                                                                                        {{meal?.value?.Price}}
                                                                                                    </span>
                                                                                                    <span
                                                                                                        *ngIf="!last">,
                                                                                                    </span>
                                                                                                </ng-container>
                                                                                            </ng-container>
                                                                                        </ng-container>
                                                                                    </td>
                                                                                </tr>
                                                                            </ng-container>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div *ngIf="mealArray && mealArray.length>0"
                                                                    class="btn remove collapsed"
                                                                    id="remove_selected_meal"
                                                                    data-target="#meal_sel"
                                                                    data-toggle="collapse"
                                                                    style="display: inline-block;"
                                                                    aria-expanded="false"
                                                                    (click)="setSelectedPassenger(0)">Remove
                                                                    Meal
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <ng-container formArrayName="passengers">
                                                    <div id="meal_sel"class="col-md-12 collapse hidden">
                                                        <div class="panel-body d-flex col-12 p-0">
                                                            <div
                                                                class="col-md-12 set_margin mt-3 p-0 spllty splinmar">
                                                                <ngb-tabset
                                                                    (tabChange)="onMealTabSelected($event)"
                                                                    [(activeId)]="selectedMealTabIndex">
                                                                    <ngb-tab
                                                                        *ngFor="let item of mealMapData | keyvalue : originalOrder;let sectorIndex = index;"
                                                                        title="{{item.key.split(',')[2]}}-{{item.key.split(',')[3]}}"
                                                                        [id]="sectorIndex">
                                                                        <ng-template ngbTabContent>
                                                                            <div class="col-12 d-flex p-0"
                                                                                style="margin-top: 17px;">
                                                                                <div class="col-md-4 p-0">
                                                                                    <div
                                                                                        style="margin-top: 20px;">
                                                                                        <div class="seat_passenger"
                                                                                            *ngFor="let passenger of passengers.controls; let ii = index;"
                                                                                            [formGroupName]="ii">
                                                                                            <input
                                                                                                type="radio"
                                                                                                id="label{{ii}}"
                                                                                                #baggageOptionRef
                                                                                                [value]="ii"
                                                                                                [checked]="ii === 0"
                                                                                                (change)="setSelectedPassenger(ii)"
                                                                                                class="seat_radio"
                                                                                                name="passengerSelection">
                                                                                            <ng-container
                                                                                                *ngIf="passenger.get('SelectedMeal').value === null || passenger.get('SelectedMeal').value.length==0">
                                                                                                <label
                                                                                                class="seat_label"
                                                                                                for="label{{ii}}"><span
                                                                                                    class="psngr_rgt_box1">Not
                                                                                                    Selected</span></label>
                                                                                                     <div
                                                                                                    class="check">
                                                                                                </div>
                                                                                            </ng-container>
                                                                                            <ng-container
                                                                                                *ngIf="passenger.get('SelectedMeal').value !== null">
                                                                                                <ng-container
                                                                                                    *ngFor="let meal of passenger.get('SelectedMeal').value | keyvalue : originalOrder; let i = index">
                                                                                                    <ng-container
                                                                                                        *ngFor="let value of meal.value | keyvalue : originalOrder; let j = index">
                                                                                                        <ng-container
                                                                                                            *ngIf="i === ii">
                                                                                                            <!-- Check if the index matches the passenger index -->
                                                                                                            <span
                                                                                                                *ngIf="value?.value && value?.value?.SelectedMealSector===selectedMealTabIndex">
                                                                                                                {{
                                                                                                                value?.value?.Code}}-
                                                                                                                {{
                                                                                                                value?.value?.Currency
                                                                                                                }}
                                                                                                                {{
                                                                                                                value?.value?.Price
                                                                                                                }}
                                                                                                            </span>
                                                                                                            <span
                                                                                                                *ngIf="!value?.value">
                                                                                                                Not
                                                                                                                Selected
                                                                                                            </span>
                                                                                                            <a *ngIf="value?.value"
                                                                                                                (click)="removeMeal(item,sectorIndex,ii, passenger)"
                                                                                                                class="text-danger cancle-btn"
                                                                                                                style="display: block; z-index: 999; position: relative;">
                                                                                                                <i
                                                                                                                    class="fa fa-times"></i>
                                                                                                            </a>
                                                                                                            <!-- Your other code for removing baggage if needed -->
                                                                                                        </ng-container>
                                                                                                    </ng-container>
                                                                                                </ng-container>
                                                                                            </ng-container>
                                                                                            <b>
                                                                                                <p
                                                                                                    class="A_N_1">
                                                                                                    {{
                                                                                                    passenger.get('FirstName').value}}
                                                                                                    {{
                                                                                                    passenger.get('LastName').value}}
                                                                                                </p>
                                                                                            </b>
                                                                                            <b>
                                                                                            </b>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-8">
                                                                                    <div *ngFor="let passenger of passengers.controls; let ii = index;"
                                                                                        [formGroupName]="ii">
                                                                                        <select
                                                                                            class="form-control form-control-sm mt-2 meal_sel"
                                                                                            #mealSelect
                                                                                            formControlName="Meal"
                                                                                            (change)="onMealSelection(item, sectorIndex, $event.target.value,ii,passenger)"
                                                                                            id="passenger_meal_selector">
                                                                                            <option value=""
                                                                                                selected
                                                                                                disabled>
                                                                                                Select Meal
                                                                                            </option>
                                                                                            <option
                                                                                                *ngFor="let rows of item.value | keyvalue : originalOrder"
                                                                                                [value]="rows.key">
                                                                                                {{
                                                                                                rows.value.AirlineDescription}}-
                                                                                                {{
                                                                                                rows.value.Currency
                                                                                                }} {{
                                                                                                rows.value.Price
                                                                                                }}
                                                                                            </option>
                                                                                        </select>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </ng-template>
                                                                    </ngb-tab>
                                                                </ngb-tabset>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-container>
                                            </div>
                                            <!-- Meal selection end -->
                                        </ng-template>
                                    </ngb-tab>
                                    <ngb-tab>
                                        <ng-template ngbTabTitle>
                                            <i class="fi-rr-person-seat"></i> Seats Selection
                                        </ng-template>
                                        <ng-template ngbTabContent>
                                            <!-- Seat selection start -->
                                            <div class="mt-3 py-3 rounded border card"
                                                *ngIf="showSeatSelection">
                                                <div class="col-md-12 col-lg-12">
                                                    <h4 class="text-muted"
                                                        style="color:#189AD3 !important;"> Seat Selection
                                                    </h4>
                                                    <div class="panel-body mt-3 p-0 d-flex col-12">
                                                        <div
                                                            class="col-md-3 p-0 set_margin spllty splinmar">
                                                            <img class="seatImage"
                                                                src="assets/images/seat_sel.jpg">
                                                        </div>
                                                        <div
                                                            class="col-md-9 set_margin mt-0 spllty splinmar">
                                                            <div
                                                                class="well mt-0 mb-3 seat_well sel_seat_well">
                                                                <div style="width: 100%;">
                                                                    <p style="margin:0px;">
                                                                        <b style="color: #2196F3;">Aisle or
                                                                            Window ? </b>
                                                                        <br>
                                                                        For extra peace of mind reserve your
                                                                        preffered seat now.
                                                                    </p>
                                                                </div>
                                                            </div>
                                                            <div class="chooseSeatSec">
                                                                <div class="col-md-12 nopad"
                                                                    *ngIf="!isSeatLoading && (seatMapSectors && seatMapSectors?.size>0)">
                                                                    <div class="btn mail_box_btn seat_sel_btn collapsed"
                                                                        data-toggle="collapse"
                                                                        data-target="#seat_sel"
                                                                        aria-expanded="false"
                                                                        (click)="setSelectedPassenger(0)">
                                                                        Choose Your Seat</div>
                                                                    <div class="inlineSec">
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-12 nopad"
                                                                    *ngIf="!isSeatLoading && (!seatMapSectors || seatMapSectors?.size==0)">
                                                                    <div class="text-center">No Seats
                                                                        Available</div>
                                                                    <div class="inlineSec">
                                                                    </div>
                                                                </div>
                                                                <div class="inlineSec">
                                                                    <div *ngIf="isSeatLoading"
                                                                        style="text-align: center; margin-top: 50px; margin-bottom: 50px;">
                                                                        <br />
                                                                        <br />
                                                                        <br />
                                                                        <div class="spinner-grow text-primary"
                                                                            role="status">
                                                                            <span
                                                                                class="sr-only">Loading...</span>
                                                                        </div>
                                                                        <div class="spinner-grow text-secondary"
                                                                            role="status">
                                                                            <span
                                                                                class="sr-only">Loading...</span>
                                                                        </div>
                                                                    </div>
                                                                    <table class="table table-striped">
                                                                        <tbody>
                                                                            <ng-container
                                                                                *ngFor="let selectedSector of seatMapSectors | keyvalue : originalOrder">
                                                                                <tr>
                                                                                    <td>{{selectedSector.key.split(',')[2]}}-{{selectedSector.key.split(',')[3]}}
                                                                                    </td>
                                                                                    <td>
                                                                                        <ng-container
                                                                                            *ngFor="let selectedSeats of selectedSector.value | keyvalue; let last = last">
                                                                                            <span>{{selectedSeats?.value?.SeatCode}}{{last
                                                                                                ? '' : ',
                                                                                                '}} </span>
                                                                                        </ng-container>
                                                                                    </td>
                                                                                </tr>
                                                                            </ng-container>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <ng-container formArrayName="passengers">
                                                    <div id="seat_sel" class="col-md-12 collapse hidden">
                                                        <div class="panel-body d-flex col-12 p-0">
                                                            <div
                                                                class="col-md-12 set_margin p-0 mt-3 spllty splinmar">
                                                                <ngb-tabset
                                                                    (tabChange)="onTabSelected($event)"
                                                                    [(activeId)]="selectedTabIndex">
                                                                    <ngb-tab
                                                                        *ngFor="let item of seatMapData | keyvalue : originalOrder;let sectorIndex = index;"
                                                                        title="{{item.key.split(',')[2]}}-{{item.key.split(',')[3]}}"
                                                                        [id]="sectorIndex">
                                                                        <ng-template ngbTabContent>
                                                                            <div class="well seat_well">
                                                                                <img src="assets/images/seat_window.png"
                                                                                    style="width: 40px;">
                                                                                &nbsp; &nbsp; Choose your
                                                                                seat now to avoid
                                                                                disappointment.
                                                                                <div class="clearfix"></div>
                                                                            </div>
                                                                            <div class="col-12 d-flex p-0"
                                                                                style="margin-top: 17px;">
                                                                                <div class="col-md-4 p-0">
                                                                                    <div
                                                                                        style="margin-top: 20px;">
                                                                                        <div class="seat_passenger"
                                                                                            *ngFor="let passenger of passengers.controls; let ii = index;"
                                                                                            [formGroupName]="ii">
                                                                                            <input
                                                                                                type="radio"
                                                                                                id="label{{ii}}"
                                                                                                #optionRef
                                                                                                [value]="ii"
                                                                                                [checked]="ii === 0"
                                                                                                (change)="setSelectedPassenger(ii)"
                                                                                                class="seat_radio"
                                                                                                name="passengerSelection">
                                                                                            <ng-container
                                                                                                *ngIf="isSeatSelected(sectorIndex, ii, passenger)">
                                                                                                <!-- Seat is selected: show seat value and remove button -->
                                                                                                <span
                                                                                                    class="seatcode"
                                                                                                    *ngFor="let seats of passenger.get('SelectedSeats').value; let selectedSeatIndex=index;">
                                                                                                    <ng-container
                                                                                                        *ngIf="seats.sectorIndex===sectorIndex && seats.selectedPassenger===ii">
                                                                                                        {{
                                                                                                        seats.SeatCode
                                                                                                        }}
                                                                                                    </ng-container>
                                                                                                    <a *ngIf="seats.sectorIndex===sectorIndex && seats.selectedPassenger===ii"
                                                                                                        (click)="removeSeat(item,sectorIndex, seats,ii, passenger)"
                                                                                                        class="text-danger cancle-btn"
                                                                                                        style="display: block; z-index: 999; position: relative;">
                                                                                                        <i
                                                                                                            class="fa fa-times"></i>
                                                                                                    </a>
                                                                                                </span>
                                                                                            </ng-container>
                                                                                            <ng-container
                                                                                                *ngIf="!isSeatSelected(sectorIndex, ii,passenger)">
                                                                                                <!-- Seat is not selected: show "Not Selected" message -->
                                                                                                <label
                                                                                                    class="seat_label"
                                                                                                    for="label{{ii}}"><span
                                                                                                        class="psngr_rgt_box1">Not
                                                                                                        Selected</span></label>
                                                                                                <div
                                                                                                    class="check">
                                                                                                </div>
                                                                                            </ng-container>
                                                                                            <b>
                                                                                                <p
                                                                                                    class="A_N_1">
                                                                                                    {{
                                                                                                    passenger.get('FirstName').value}}
                                                                                                    {{
                                                                                                    passenger.get('LastName').value}}
                                                                                                </p>
                                                                                            </b>
                                                                                            <b>
                                                                                            </b>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-8">
                                                                                    <div class="flightWrap">
                                                                                        <div
                                                                                            class="flightSeatMatrix international">
                                                                                            <div>
                                                                                                <div class="seatRow"
                                                                                                    *ngIf="item.value | keyvalue | slice:0:1 as rows">
                                                                                                    <div
                                                                                                        class="seatCol">
                                                                                                        <div
                                                                                                            class="seatLabel">
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <ng-container
                                                                                                        *ngFor="let columnData of rows[0]?.value | keyvalue">
                                                                                                        <div class="seatCol"
                                                                                                            *ngIf="!(columnData.key.match('\\d+'))">
                                                                                                            <div
                                                                                                                class="seatLabel">
                                                                                                                {{columnData.key}}
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="seatCol bgWhite"
                                                                                                            *ngIf="(columnData.key.match('\\d+'))">
                                                                                                            <div
                                                                                                                class="seatEmptyLabel">
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </ng-container>
                                                                                                    <div
                                                                                                        class="seatCol">
                                                                                                        <div
                                                                                                            class="seatLabel">
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="seatRow"
                                                                                                    *ngFor="let rows of item.value | keyvalue : originalOrder">
                                                                                                    <div
                                                                                                        class="seatCol">
                                                                                                        <div>
                                                                                                            <div
                                                                                                                class="seatLabel">
                                                                                                                {{rows.key}}
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div
                                                                                                        *ngFor="let coloumn of rows.value | keyvalue : originalOrder">
                                                                                                        <div class="seatCol"
                                                                                                            *ngIf="coloumn?.value?.seatAvailability=='Available'">
                                                                                                            <div
                                                                                                                class="relative seat">
                                                                                                                <div
                                                                                                                    class="seatBlock pointer new_seat_blk ">
                                                                                                                    <label
                                                                                                                        class="seats seat--chargable price"
                                                                                                                        [class.seat--selected]="coloumn?.value?.isSelected"
                                                                                                                        (mouseenter)="tooltip.style.display='block'"
                                                                                                                        (mouseleave)="tooltip.style.display='none'">
                                                                                                                        <input
                                                                                                                            type="checkbox"
                                                                                                                            id=""
                                                                                                                            (change)=onCheckboxChange(item,sectorIndex,coloumn,$event)
                                                                                                                            class="seatBtn seatBtn_DXB_BOM">
                                                                                                                        <span
                                                                                                                            class="seatMar"
                                                                                                                            title="Seat: {{coloumn?.value?.SeatCode}},Price : {{coloumn?.value?.seat_charge}}"></span>
                                                                                                                    </label>
                                                                                                                    <div class="tooltiptext"
                                                                                                                        style="display: none;"
                                                                                                                        #tooltip>
                                                                                                                        <!-- <ng-container
                                                                                                                            *ngFor="let seatCharacteristics of coloumn?.value?.characteristics">
                                                                                                                            <ng-container
                                                                                                                                [ngSwitch]="seatCharacteristics?.code">
                                                                                                                                <ng-container
                                                                                                                                    *ngSwitchCase="'W'">
                                                                                                                                    <img src="assets/images/window_seat.jpg"
                                                                                                                                        alt="">
                                                                                                                                    <div
                                                                                                                                        class="pop_img_txt">
                                                                                                                                        Window
                                                                                                                                        seat
                                                                                                                                    </div>
                                                                                                                                </ng-container>
                                                                                                                                <ng-container
                                                                                                                                    *ngSwitchCase="'A'">
                                                                                                                                    <img src="assets/images/aisle_seat.jpg"
                                                                                                                                        alt="">
                                                                                                                                    <div
                                                                                                                                        class="pop_img_txt">
                                                                                                                                        Aisle
                                                                                                                                        seat
                                                                                                                                    </div>
                                                                                                                                </ng-container>
                                                                                                                                <ng-container
                                                                                                                                    *ngSwitchCase="'C'">
                                                                                                                                    <img src="assets/images/center_seat.jpg"
                                                                                                                                        alt="">
                                                                                                                                    <div
                                                                                                                                        class="pop_img_txt">
                                                                                                                                        Center
                                                                                                                                        seat
                                                                                                                                    </div>
                                                                                                                                </ng-container>
                                                                                                                            </ng-container>
                                                                                                                        </ng-container> -->
                                                                                                                        <div
                                                                                                                            class="pop_txt_pd">
                                                                                                                            <!-- <ng-container
                                                                                                                                *ngFor="let seatCharacteristics of coloumn?.value?.characteristics">
                                                                                                                                <div class="pop_head"
                                                                                                                                    *ngIf="seatCharacteristics?.description">
                                                                                                                                    {{seatCharacteristics?.description}}
                                                                                                                                </div>
                                                                                                                            </ng-container> -->
                                                                                                                            <span
                                                                                                                                class="pop_txt_left">{{coloumn?.value?.SeatCode}}</span><span
                                                                                                                                class="pop_txt_right">
                                                                                                                                {{coloumn?.value?.currency}} {{coloumn?.value?.seat_charge}}
                                                                                                                            </span>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="seatCol"
                                                                                                            *ngIf="coloumn?.value?.seatAvailability=='Blocked' || coloumn?.value?.seatAvailability=='Occupied'">
                                                                                                            <div class="relative"
                                                                                                                id="">
                                                                                                                <div
                                                                                                                    class="seatNotAvailable">
                                                                                                                    <div
                                                                                                                        class="seats seat--unavailable">
                                                                                                                        <span
                                                                                                                            class="seat-text">x</span>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="seatCol bgWhite"
                                                                                                            *ngIf="(coloumn?.value?.Aisle==1 && coloumn?.value?.seatAvailability=='NotExist') ||  coloumn?.value?.seatAvailability=='NoSeat' || coloumn?.value?.seatAvailability=='NotExist'">
                                                                                                            <div>
                                                                                                                <div
                                                                                                                    class="seatEmptyLabel">
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div
                                                                                                        class="seatCol">
                                                                                                        <div>
                                                                                                            <div
                                                                                                                class="seatLabel">
                                                                                                                {{rows.key}}
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </ng-template>
                                                                    </ngb-tab>
                                                                </ngb-tabset>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-container>
                                            </div>
                                            <!-- Seat selection end -->
                                        </ng-template>
                                    </ngb-tab>
                                </ngb-tabset>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

                    <div class="row mt-3 py-3 border rounded" style="display: none;">
                        <a class="col-md-12 col-lg-12" (click)="isCollapsedGst = !isCollapsedGst"
                            [attr.aria-expanded]="!isCollapsedGst" aria-controls="collapseBasic">
                            <span class="f-20 text-info text-upercase float-left"> GST Information (Optional)
                            </span>
                            <span class="float-right">
                                <i class="f-20 fa fa-plus fa-plus--lineHeight"></i>
                            </span>
                        </a>
                        <div class="col-md-12 mt-4 text-muted f-12" id="collapseBasic" [collapse]="isCollapsedGst"
                            [isAnimated]="true">
                            <div class="form-group row">
                                <label for="gstNo" class="col-md-3 col-lg-3 col-sm-3 col-form-label"> GST Number
                                </label>
                                <div class="col-sm-9 col-md-9 col-lg-9">
                                    <input type="text" class="form-control form-control-sm" id="gstNo"
                                        placeholder="ABCD1234E">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="gstCompName" class="col-md-3 col-lg-3 col-sm-3 col-form-label"> GST Company
                                    Name </label>
                                <div class="col-sm-9 col-md-9 col-lg-9">
                                    <input type="text" class="form-control form-control-sm" id="gstCompName"
                                        placeholder="Provab Technosoft Pvt. Ltd.">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="email" class="col-md-3 col-lg-3 col-sm-3 col-form-label"> Email </label>
                                <div class="col-sm-9 col-md-9 col-lg-9">
                                    <input type="email" class="form-control form-control-sm" id="email"
                                        placeholder="example@gmail.com">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="phone" class="col-md-3 col-lg-3 col-sm-3 col-form-label"> Phone Number
                                </label>
                                <div class="col-sm-9 col-md-9 col-lg-9">
                                    <input type="number" class="form-control form-control-sm" id="phone"
                                        placeholder="1234567890">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="address" class="col-md-3 col-lg-3 col-sm-3 col-form-label"> Address </label>
                                <div class="col-sm-9 col-md-9 col-lg-9">
                                    <input type="text" class="form-control form-control-sm" id="address"
                                        placeholder="Electronic City Bangaluru">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="state" class="col-md-3 col-lg-3 col-sm-3 col-form-label"> State </label>
                                <div class="col-sm-9 col-md-9 col-lg-9">
                                    <select class="form-control form-control-sm" id="state">
                                        <option selected>Choose...</option>
                                        <option>State-2</option>
                                        <option>State-3</option>
                                        <option>State-4</option>
                                        <option>State-5</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div *ngIf="extraServices" class="row my-3 py-4 border rounded">
                        <a class="col-md-12 col-lg-12 {{ !isCollapsedServiceReqs ? 'bbottom pb-3': '' }}"
                            (click)="isCollapsedServiceReqs = !isCollapsedServiceReqs"
                            [attr.aria-expanded]="!isCollapsedServiceReqs" aria-controls="collapseBasic">
                            <span class="f-20 text-info text-upercase float-left"> Service Requests (Optional)
                            </span>
                            <span class="float-right">
                                <i class="f-20 fa fa-plus fa-plus--lineHeight"></i>
                            </span>
                        </a>
                        <div class="col-md-12 mt-4 text-muted f-12" id="collapseBasic"
                            [collapse]="isCollapsedServiceReqs" [isAnimated]="true">
                            <app-service-requests [flight]="flight" [passengers]="passengers"
                                [contactForm]="contactForm"></app-service-requests>
                        </div>
                    </div>
                    <!--  -->
                    <div class="row mobile_row">
                    <div class="col-md-12 nopad mt-3 mb-3">
                        <div class="checkcontent d-flex" style="overflow: inherit;">
                            <div class="customSquaredThree" style="top:0px;">
                                <input type="checkbox" [checked]="terms" value="0" name="confirm" class="filter_airline"
                                    id="squaredThree1" aria-required="true" required
                                    (click)="onTerms($event.target.checked)" />
                                <label for="squaredThree1"></label>
                            </div>
                            <label for="squaredThree1" class="lbllbl"
                             style="display: inline; font-size: 14px; color: #082B3A;font-weight: 400;"> 
                             By booking this item , you agree to our
                                <a class="colorbl" (click)="openStaticPage('Terms and conditions')">Terms and Conditions</a>,
                                <a class="colorbl"(click)="openStaticPage('Privacy policy')">Privacy Policy</a> and
                                <a class="colorbl" (click)="openStaticPage('Refund and Return Policy')">Refund Policy</a>.
                            </label>
                        </div>
                        <div class="text-danger" *ngIf="!terms">
                            <small> Please accept Terms and Conditions/Privacy Policy.
                            </small>
                        </div>
                    </div>
                    <!--  -->
                    <div class="btn_book">
                        <button type="submit" class=" mb-2 mr-2 btn srch_btn" >
                            Book Now </button>
                    </div>
                  </div>
                </form>
                <div class="row mt-2 mobile_row">
                <div class="col-md-12 col-lg-12 p-0">
                    <div class="form-row mobile_row">
                        <div class="alert alert-warning text-justify">
                            <small>
                                Most countries require travellers to have a passport valid for more than 3 to 6
                                months from the date of entry into or exit from the country. Please check the
                                exact rules for your destination country before completing the booking.
                            </small>
                        </div>
                    </div>
                </div>
                </div>
            </div>
            <div class="col-md-4 col-lg-4 mt-3 pr-0 mpad15 mobile_pr-15">
                <app-booking-fare-summary [flight]="flight"></app-booking-fare-summary>
            </div>
        </div>
    </div>
    <ngx-loading [show]="loading"
        [config]="{primaryColour: primaryColour, secondaryColour: secondaryColour, tertiaryColour: primaryColour, backdropBorderRadius: '3px',fullScreenBackdrop:true}"
        [template]="loadingTemplate"></ngx-loading>
</div>